{"ast":null,"code":"import axios from 'axios';\nimport { useState, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { END } from 'redux-saga';\nimport { LOAD_POST_REQUEST } from '../reducers/post';\nimport wrapper from '../store/configureStore';\nexport default (() => {\n  const {\n    singlePost\n  } = useSelector(state => state.post);\n  const {\n    0: value,\n    1: setValue\n  } = useState();\n  const handler = useCallback(e => {\n    // if(e.target.value){\n    //     setValue(e.target.value);\n    // }\n\n    console.log(\"밸류: \", singlePost);\n  }, []);\n  return [value, handler, setValue];\n});\nexport const getServerSideProps = wrapper.getServerSideProps(async context => {\n  const cookie = context.req ? context.req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n  if (context.req && cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n  context.store.dispatch({\n    type: LOAD_POST_REQUEST,\n    data: context.params.id //혹은 context.query.id\n  });\n\n  context.store.dispatch(END);\n  await context.store.sagaTask.toPromise();\n});","map":{"version":3,"names":["axios","useState","useCallback","useSelector","END","LOAD_POST_REQUEST","wrapper","singlePost","state","post","value","setValue","handler","e","console","log","getServerSideProps","context","cookie","req","headers","defaults","Cookie","store","dispatch","type","data","params","id","sagaTask","toPromise"],"sources":["C:/Users/내컴/Desktop/fashionary/front/hooks/patchInput.js"],"sourcesContent":["import axios from 'axios';\r\nimport {useState, useCallback} from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { END } from 'redux-saga';\r\nimport { LOAD_POST_REQUEST } from '../reducers/post';\r\nimport wrapper from '../store/configureStore';\r\n\r\nexport default () => {\r\n\r\n    const {singlePost} = useSelector((state) => state.post);\r\n    const [value, setValue] = useState();\r\n    const handler = useCallback((e) => {\r\n        // if(e.target.value){\r\n        //     setValue(e.target.value);\r\n        // }\r\n\r\n        console.log(\"밸류: \", singlePost);\r\n\r\n    }, []);\r\n\r\n    return [value, handler, setValue];\r\n};\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps(async(context) => { \r\n    const cookie = context.req ? context.req.headers.cookie : '';\r\n    axios.defaults.headers.Cookie = ''; \r\n    if(context.req && cookie){ \r\n        axios.defaults.headers.Cookie = cookie;\r\n    }\r\n    context.store.dispatch({\r\n        type: LOAD_POST_REQUEST,\r\n        data: context.params.id //혹은 context.query.id\r\n    });\r\n   context.store.dispatch(END);\r\n   await context.store.sagaTask.toPromise();\r\n});\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,QAAQ,EAAEC,WAAW,QAAO,OAAO;AAC3C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,GAAG,QAAQ,YAAY;AAChC,SAASC,iBAAiB,QAAQ,kBAAkB;AACpD,OAAOC,OAAO,MAAM,yBAAyB;AAE7C,gBAAe,MAAM;EAEjB,MAAM;IAACC;EAAU,CAAC,GAAGJ,WAAW,CAAEK,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC;EACvD,MAAM;IAAA,GAACC,KAAK;IAAA,GAAEC;EAAQ,IAAIV,QAAQ,EAAE;EACpC,MAAMW,OAAO,GAAGV,WAAW,CAAEW,CAAC,IAAK;IAC/B;IACA;IACA;;IAEAC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAER,UAAU,CAAC;EAEnC,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,CAACG,KAAK,EAAEE,OAAO,EAAED,QAAQ,CAAC;AACrC,CAAC;AAED,OAAO,MAAMK,kBAAkB,GAAGV,OAAO,CAACU,kBAAkB,CAAC,MAAMC,OAAO,IAAK;EAC3E,MAAMC,MAAM,GAAGD,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACC,OAAO,CAACF,MAAM,GAAG,EAAE;EAC5DlB,KAAK,CAACqB,QAAQ,CAACD,OAAO,CAACE,MAAM,GAAG,EAAE;EAClC,IAAGL,OAAO,CAACE,GAAG,IAAID,MAAM,EAAC;IACrBlB,KAAK,CAACqB,QAAQ,CAACD,OAAO,CAACE,MAAM,GAAGJ,MAAM;EAC1C;EACAD,OAAO,CAACM,KAAK,CAACC,QAAQ,CAAC;IACnBC,IAAI,EAAEpB,iBAAiB;IACvBqB,IAAI,EAAET,OAAO,CAACU,MAAM,CAACC,EAAE,CAAC;EAC5B,CAAC,CAAC;;EACHX,OAAO,CAACM,KAAK,CAACC,QAAQ,CAACpB,GAAG,CAAC;EAC3B,MAAMa,OAAO,CAACM,KAAK,CAACM,QAAQ,CAACC,SAAS,EAAE;AAC3C,CAAC,CAAC"},"metadata":{},"sourceType":"module"}